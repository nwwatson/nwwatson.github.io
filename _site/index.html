<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>The Blog of Nicholas W. Watson &vert; Nicholas W. Watson</title>
<meta name="description" content="">


<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost:4000/images/">
<meta name="twitter:title" content="The Blog of Nicholas W. Watson">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@nwwatson">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="The Blog of Nicholas W. Watson">
<meta property="og:description" content="">
<meta property="og:url" content="http://localhost:4000/">
<meta property="og:site_name" content="Nicholas W. Watson">

<meta property="og:image" content="http://localhost:4000/images/">




<link rel="canonical" href="http://localhost:4000/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Nicholas W. Watson Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">

<!--[if lte IE 8]>
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/grids-responsive-old-ie-min.css">
<![endif]-->
<!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/grids-responsive-min.css">
<!--<![endif]-->

<link rel="stylesheet" href="http://localhost:4000/assets/css/styles.css">

</head>
<body class="home-template" itemscope itemtype="http://schema.org/WebPage">

  <div id="layout" class="pure-g">
      <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
      <h1 class="brand-title"><a class="brand-link" href="/">Nicholas Watson</a></h1>
      <h2 class="brand-tagline">Technology, software, development.</h2>

      <nav class="nav">
          <ul class="nav-list">

          </ul>
      </nav>
  </div>
</div>

      <div class="content pure-u-1 pure-u-md-3-4">
        <div class="posts">
	
	<!-- A single blog post -->
	<section class="post">
		<header class="post-header">
			<div class="date">
				<time datetime="2017-03-14T22:07:18-04:00"><span class="day">14</span> <span class="month-year">March 2017</span></time>
			</div>

			<h2>
				<a href="http://localhost:4000/2017/03/14/postgres-fu-for-faster-apis.html">
						Postgres Fu For Faster Apis
				</a>
			</h2>
			<p class="post-meta">
				
			</p>
		</header>

			<div class="post-description">
				

				<p>
					<a href="http://localhost:4000/2017/03/14/postgres-fu-for-faster-apis.html">Continue Reading...</a>
				<p>
			</div>
	</section>
	
	<!-- A single blog post -->
	<section class="post">
		<header class="post-header">
			<div class="date">
				<time datetime="2017-03-14T19:25:00-04:00"><span class="day">14</span> <span class="month-year">March 2017</span></time>
			</div>

			<h2>
				<a href="http://localhost:4000/swift/vapor/postgresql/2017/03/14/vapor-blog.html">
						Beginning Vapor: Lets Write a Blog
				</a>
			</h2>
			<p class="post-meta">
				<a class="post-category post-category-pure" href="#" title="Other posts from the Swift category">Swift</a>&nbsp;<a class="post-category post-category-pure" href="#" title="Other posts from the Vapor category">Vapor</a>&nbsp;<a class="post-category post-category-pure" href="#" title="Other posts from the Postgresql category">Postgresql</a>
			</p>
		</header>

			<div class="post-description">
				<p>Over 10 years ago, Ruby on Rails made a huge impact on me when I saw the
“Blog in 15 Minutes” tutorial. The simple tutorial, in which a simple blog
application was scaffolded show all that you needed to know in order to get
started using Rails. The “Blog in 15 Minutes” tutorial is the gold standard for
introducing a framework.</p>

<p>When writing a tutorial, many authors focus on showing would-be developers all the
features of the framework/language, but completely miss explain how to structure
a cohesive application. Many tutorials show an application thats built in one file,
or if they do create separate files, they create “buckets full of method” files
which do not show new users how to break applications in to smaller components.</p>

<p>My goal with this tutorial is to build a small blog built using Vapor, a server
side framework for Swift. I’d like to cover the following topics:</p>

<ul>
  <li>Setup of Vapor on MacOS Sierra</li>
  <li>The creation of a Vapor projects</li>
  <li>Connecting the Vapor project to a database</li>
  <li>Building a controller that will handle the CRUD methods for creating posts</li>
  <li>Building Leaf templates to build the user interface.</li>
</ul>


				<p>
					<a href="http://localhost:4000/swift/vapor/postgresql/2017/03/14/vapor-blog.html">Continue Reading...</a>
				<p>
			</div>
	</section>
	
	<!-- A single blog post -->
	<section class="post">
		<header class="post-header">
			<div class="date">
				<time datetime="2015-07-30T17:00:00-04:00"><span class="day">30</span> <span class="month-year">July 2015</span></time>
			</div>

			<h2>
				<a href="http://localhost:4000/ruby/ionic/gem/2015/07/30/quick-gem-for-ionic-push-notifications.html">
						PushIonic - A Gem For Sending Push Notifications With Ionic.io
				</a>
			</h2>
			<p class="post-meta">
				<a class="post-category post-category-pure" href="#" title="Other posts from the Ruby category">Ruby</a>&nbsp;<a class="post-category post-category-pure" href="#" title="Other posts from the Ionic category">Ionic</a>&nbsp;<a class="post-category post-category-pure" href="#" title="Other posts from the Gem category">Gem</a>
			</p>
		</header>

			<div class="post-description">
				<p>We are in the the middle of adding push notificaitons to our mobile application
and started to look at available push notification services. We took a look
at all the usual suspects such as Amazon SMS, Parse and Pusher. One service
that intrigued us with Ionic Push Notifications, because our application is
written using the Ionic Framework.</p>


				<p>
					<a href="http://localhost:4000/ruby/ionic/gem/2015/07/30/quick-gem-for-ionic-push-notifications.html">Continue Reading...</a>
				<p>
			</div>
	</section>
	
	<!-- A single blog post -->
	<section class="post">
		<header class="post-header">
			<div class="date">
				<time datetime="2015-05-21T19:57:00-04:00"><span class="day">21</span> <span class="month-year">May 2015</span></time>
			</div>

			<h2>
				<a href="http://localhost:4000/ruby,/rails/2015/05/21/getting-ruby-saml-to-work-with-azure.html">
						Getting ruby-saml to work with Azure AD
				</a>
			</h2>
			<p class="post-meta">
				<a class="post-category post-category-pure" href="#" title="Other posts from the Ruby, category">Ruby,</a>&nbsp;<a class="post-category post-category-pure" href="#" title="Other posts from the Rails category">Rails</a>
			</p>
		</header>

			<div class="post-description">
				<p>I’m going to make this short and sweet. So you’ve been tasked with using SAML to authenticate users with  Azure AD. Sure, there are other mechanisms available, but this client wants SAML. No problem. Knowning nothing about AD or SAML, but having some experience with OAuth, you think “This couldn’t be that hard”. Then you find out SAML 2.0 is a little more complicated than OAuth.</p>

<p>I’m not going to walk you though a example on how to build. There are examples available, specifically <a href="https://github.com/onelogin/ruby-saml-example">ruby-saml-example</a>. I’ll use this to properly show you how to configure Azure AD.</p>

<h2 id="signup-for-an-azure-account">Signup for an Azure account</h2>

<p>While I’m happy to write this quick tutorial, I’m not going to walk you through create an Azure account. Its self explanitory. You can do it.</p>

<h2 id="create-an-active-directory">Create an Active Directory</h2>

<h2 id="add-an-application">Add an Application</h2>

<h2 id="configure-ruby-saml-settings">Configure ruby-saml Settings</h2>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code>  <span class="n">idp_metadata_parser</span> <span class="o">=</span> <span class="no">OneLogin</span><span class="o">::</span><span class="no">RubySaml</span><span class="o">::</span><span class="no">IdpMetadataParser</span><span class="p">.</span><span class="nf">new</span>
  <span class="c1"># This does all the hard work. it grabs the federation metadata from Azure</span>
  <span class="n">settings</span> <span class="o">=</span> <span class="n">idp_metadata_parser</span><span class="p">.</span><span class="nf">parse_remote</span><span class="p">(</span><span class="s2">"https://login.microsoftonline.com/FunnyImNotGivingYouThis/federationmetadata/2007-06/federationmetadata.xml"</span><span class="p">)</span>
  
  <span class="c1"># This is the URL that Azure AD calls back after a successful login</span>
  <span class="n">settings</span><span class="p">.</span><span class="nf">assertion_consumer_service_url</span> <span class="o">=</span> <span class="s2">"http://localhost:3000/saml/acs"</span>
  
  <span class="c1"># This URL will be calledback after a logout event</span>
  <span class="n">settings</span><span class="p">.</span><span class="nf">assertion_consumer_logout_service_url</span> <span class="o">=</span> <span class="s2">"http://localhost:3000/saml/logout"</span>
  
  <span class="c1"># Microsoft calls this the Client ID. Copy it from your application's </span>
  <span class="c1"># properties in Azure and drop it here.</span>
  <span class="n">settings</span><span class="p">.</span><span class="nf">issuer</span> <span class="o">=</span> <span class="s2">"55555555-5555-5555-5555-555555555555"</span>
  
  <span class="c1"># You need to copy the  X509 certificate out of the &lt;ds:Signature&gt; node of the</span>
  <span class="c1"># federation metadata xml file. Then go to https://www.samltool.com/fingerprint.php</span>
  <span class="c1"># and paste it in to the x509 cert field. Use the Formatted Fingerprint in the line </span>
  <span class="c1"># below</span>
  <span class="n">settings</span><span class="p">.</span><span class="nf">idp_cert_fingerprint</span> <span class="o">=</span> <span class="s2">"It:Is:So:me:Th:in:gL:ik:eT:hi:sB:ut:Re:al"</span>
  
  <span class="c1"># You shouldn't have to change this line. Works like a champ.</span>
  <span class="n">settings</span><span class="p">.</span><span class="nf">name_identifier_format</span> <span class="o">=</span> <span class="s2">"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"</span>
</code></pre>
</div>


				<p>
					<a href="http://localhost:4000/ruby,/rails/2015/05/21/getting-ruby-saml-to-work-with-azure.html">Continue Reading...</a>
				<p>
			</div>
	</section>
	
	<!-- A single blog post -->
	<section class="post">
		<header class="post-header">
			<div class="date">
				<time datetime="2015-05-12T04:18:00-04:00"><span class="day">12</span> <span class="month-year">May 2015</span></time>
			</div>

			<h2>
				<a href="http://localhost:4000/learning/git/2015/05/12/ignoring-changes-in-tracked-files-git.html">
						Ignoring Changes in Tracked Files with Git
				</a>
			</h2>
			<p class="post-meta">
				<a class="post-category post-category-pure" href="#" title="Other posts from the Learning category">Learning</a>&nbsp;<a class="post-category post-category-pure" href="#" title="Other posts from the Git category">Git</a>
			</p>
		</header>

			<div class="post-description">
				<p>We use Rubinius in production, but in development Rubinuis is slow. Those few seconds of waiting for Rubinius to compile all your Ruby files add up and I’m impatient.</p>


				<p>
					<a href="http://localhost:4000/learning/git/2015/05/12/ignoring-changes-in-tracked-files-git.html">Continue Reading...</a>
				<p>
			</div>
	</section>
	
</div>

<nav class="pagination" role="navigation">
    


    <span class="page-number">Page 1 of 2</span>
    	
        <a class="older-posts" href="http://localhost:4000/page2/">Older <i class="fa fa-chevron-right"></i></a>
    	
	</nav>

      </div>
    </div>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57714341-1', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


</body>
</html>
